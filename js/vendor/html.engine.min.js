(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=t(n):typeof define=="function"&&define.amd?define(t(n)):n.html=t(n)})(this||eval("this"),function(n){var t=n.document,s=n.JSON,b=!t.addEventListener,h=Array.prototype,l=Object.prototype,f=h.isArray||function(n){return l.toString.call(n)=="[object Array]"},u=function(n){return l.toString.call(n)=="[object Function]"},ut=function(n){return l.toString.call(n)=="[object Number]"},e=function(n){return typeof n=="string"},r=function(n){return n!==undefined&&n!==null},c=function(n){return/^-?\d+\.?\d*$/.test(n)},o=function(n){return t.body.contains(n)},k=String.prototype.trim,d=String.prototype.trimLeft,g=String.prototype.trimRight,i=function(t,r){return u(t)?i.ready(t):e(t)||t.nodeType||t===n?i.get(t,r):void 0},v=function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("msie")!=-1?parseInt(n.split("msie")[1]):!1},tt=v()===9,ft=v()===8,y=function(n){return typeof n=="object"&&r(n)&&!i.isDate(n)},p=function(n,t){for(var i in n)n.hasOwnProperty(i)&&t.call(n,n[i],i)},a=function(n){return k&&k.call(n)||n.replace(/^\s+|\s+$/,"")},it=function(n){return d&&d.call(n)||n.replace(/^\s+/,"")},rt=function(n){return g&&g.call(n)||n.replace(/\s+$/,"")},nt=function(n){return a(n).toLowerCase().replace(/\s{2,}/g," ")},w=function(n){var t="";return p(n,function(n){var i=n;y(n)&&(i=w(n));n.isComputed&&n.isComputed()&&(i=n(),y(i)&&(i=w(i)));i&&(t+=i.toString()+" ")}),t};return i.isIE=v,i.isArray=f,i.isStrNumber=c,i.isNotNull=r,i.isInDOM=o,i.trim=a,i.trimLeft=it,i.trimRight=rt,i.config={lazyInput:!1,historyEnabled:!0},function(){var s=this,v,it,d={},g={},k,ut,rt,ft,et,ot,st,ht;this.extend=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};this.expando=function(n,t){var i;if(r(t))i=v.uniqueId||++rt,v.uniqueId=i,g[i]=g[i]||{},g[i][n]=t;else return(i=v.uniqueId,!i)?null:g[i]?g[i][n]:null};this.get=function(t,i){if(t&&(t.nodeType||t===n))v=t;else if(e(t)){var r=this.query(t,i)[0];v=r}return this};this.find=function(n){return v=this.query(n,v)[0],this};k=this.array=function(){var n=Array.apply({},arguments[0]||[]);return s.extend(n,s.array),n},function(){this.each=h.forEach||function(n){for(var i=this.length,t=-1;++t<i;)n(this[t],t)};this.add=Array.prototype.push;this.select=function(n){for(var t=[],r=this.length,i=-1;++i<r;)t.push(n(this[i]));return s.array(t)};this.where=function(n){if(!n)throw"Predicate function is required";for(var i=[],r=this.length,t=-1;++t<r;)n(this[t])&&i.push(this[t]);return s.array(i)};this.reduce=h.reduce||function(n,t,i){i=i||this;for(var u=r(t)?t:[],e=this.length,f=-1;++f<e;)u=n.call(i,u,this[f]);return u};this.reduceRight=h.reduceRight||function(n,t,i){for(var u=r(t)?t:[],f=this.length;f--;)u=n.call(i,u,this[f]);return u};this.find=function(n,t){var i=t?this.select(t):this;return i.reduce(function(t,i){return t===n(t,i)?t:i},i[0])};this.first=function(n,t){if(!n)return this[0];for(var r=this.length,i=-1;++i<r;)if(n.call(t,this[i]))return this[i];throw"Can't find any element matches";};this.firstOrDefault=function(n,t){if(!n)return this[0];for(var r=this.length,i=-1;++i<r;)if(n.call(t,this[i]))return this[i];return null};this.indexOf=h.indexOf||function(n){for(var i=this.length,t=-1;++t<i;)if(this[t]===n)return t;return-1};this.remove=function(n){var t=this.indexOf(n);t>=0&&t<this.length&&this.splice(t,1)};this.removeAt=function(n){n>=0&&n<this.length&&this.splice(n,1)};this.swap=function(n,t){if(n>=0&&n<this.length&&t>=0&&t<this.length&&n!=t){var i=this[n];this[n]=this[t];this[t]=i}};this.move=function(n,t){this.splice(t,0,this.splice(n,1)[0])};var n=function(n){return function(t,i){for(var r=0,u=n.length;r<u;r++){var o=r===u-1,f=n[r].expression(t),e=n[r].expression(i);if(f>e)return n[r].isAscendant?1:-1;if(f<e)return n[r].isAscendant?-1:1;if(o)return n[r].isAscendant&&0}return 0}};this.orderBy=function(){for(var e,o,f=[],t=arguments[0]instanceof Array?arguments[0]:arguments,i=0,h=t.length;i<h;i++)e=typeof t[i]=="string",o=function(n,i){return function(r){return t[n]instanceof Function?t[n](r):i?s.getData(r[t[n]]):s.getData(r[t[n].field])}}(i,e),e||u(t[i])?f.push({expression:o,isAscendant:r(t[i].isAsc)?t[i].isAsc:!0}):f.push({expression:o,isAscendant:t[i].isAsc});return this.sort(n(f))}}.call(this.array);this.array.addRange=function(n){return s.array(Array.prototype.concat.call(this,n))};this.array.any=function(n){for(var i=this.length,t=-1;++t<i;)if(n(this[t]))return!0;return!1};this.array.replace=function(n,t){for(var r=this.length,i=-1;++i<r;)this[i]===n&&this.splice(i,1,t)};ut=s.array(["Arguments","Function","String","Number","Date","RegExp"]);ut.each(function(n){s["is"+n]=function(t){return l.toString.call(t)=="[object "+n+"]"}});this.getData=function(n){for(var t=n;u(t);)t=u(t)?t():t;return t};rt=1;this.bind=function(n,t,i,r){if(n===undefined||n===null)throw"Element must be specified";if(t===undefined||t===null)throw"Event name must be specified";if(i===undefined||i===null)throw"Callback must be specified";n.addEventListener?n.addEventListener(t,i,r):n.attachEvent("on"+t,i);var u=n.uniqueId||++rt;n.uniqueId=u;d[t]=d[t]||{};d[t][u]=d[t][u]||[];d[t][u].push(i)};this.trigger=function(n,i){if(i=i||v,!i)throw"Element must be specified";if(!n)throw"Event name must be specified";var r;t.createEvent?(r=t.createEvent("HTMLEvents"),r.initEvent(n,!0,!0)):t.createEventObject&&(r=t.createEventObject(),r.eventType=n);try{i[n]();return}catch(u){}try{r.eventName=n;i.dispatchEvent?i.dispatchEvent(r):i.fireEvent?i.fireEvent("on"+r.eventType,r):i["on"+n]&&i["on"+n]()}catch(u){}};this.dispose=function(n){this.unbindAll(n);n&&n.parentElement&&n.parentElement.removeChild(n)};this.unbindAll=function(n){var t,i;if(n=n||v,n===null||n===undefined)throw"Element to unbind all events must be specified";if(t=n.uniqueId,t&&p(d,function(i,r){var e=i[t],o;if(f(e)){while(e.length)o=e.pop(),u(o)&&s.unbind(r,o,!1,n,!0);delete i[t]}}),n!==null&&n.children&&n.children.length)for(i=0;i<n.children.length;i++)this.unbindAll(n.children[i])};this.unbind=function(n,t,i,r){var r=r||v;if(!v)throw"Element to unbind event must be specified";if(!n)throw"Event name must be specified";t||p(d,function(t,u){var e,o;if(u===n&&(e=t[r.uniqueId],f(e)))while(e.length)o=e.pop(),r.removeEventListener?r.removeEventListener(n,o,i):r.detachEvent("on"+n,o)});try{r.removeEventListener?r.removeEventListener(n,t,i):r.detachEvent("on"+n,t)}catch(u){}};this.subscribe=function(n,t){n&&n.subscribe&&n.subscribe(t)};this.unsubscribe=function(n,t){n&&n.subscribe&&n.unsubscribe(t)};this.disposable=function(n,t,i){if(n===null||!o(n)){if(!t||!i)throw"Observer and listener must be specified";s.unsubscribe(t,i);n!==null&&s.dispose(n)}};this.createElement=function(n,i){var r=t.createElement(n);return i&&(r.type=i),v.appendChild(r),v=r};this.createEleNoParent=function(n){return v=t.createElement(n),this};ft=function(n,t,i){var r,u;for(t=t*i,r=[],u=0;u<i&&n.children.length;u++)r.push(n.children[t]),n.removeChild(n.children[t]);setTimeout(function(){for(var n=0;n<i;n++)s.unbindAll(r[n]);r=null})};et=function(n,t,i){var r=null;if(t.children.length===0)throw Exception("You must add at least one element");if(i=i*t.children.length,r=n.children[i],!r)while(t.children.length)n.appendChild(t.children[0]);while(t.children.length)n.insertBefore(t.children[0],r)};this.each=function(n,i){function f(){if(u!==0)return u;var f=t.createElement("tmp");return v=f,i.call(f,s.getData(n)[0],0),u=f.children.length,s.dispose(f),f=null,v=r,u}var r,u,c;if(!n)throw"Invalid argument exception. You must pass an array or observerd array.";r=v;s.get(r).empty();u=0;for(var h=s.getData(n),l=h.length,e=-1;++e<l;)v=r,i.call(r,h[e],e);return c=function(e,h,c,l){var y,p,w,b,k,d,g,a;if(s.disposable(r,n,this),!o(r)){r=null;return}v=r;switch(l){case"push":i.call(r,h,c);break;case"add":if(u=f(),c===e.length-1){i.call(r,h,c);return}y=t.createElement("tmp");v=y;i.call(y,h,c);et(r,y,c);s.dispose(y);y=null;break;case"remove":u=f();ft(r,c,u);break;case"move":if(u=f(),p=c,w=e.indexOf(h),p===w)return;for(b=w*u,k=w<p?r.children[(p+1)*u]:r.children[p*u],a=0,d=u;a<d;a++)r.insertBefore(r.children[b],k),w>p&&b++;break;case"render":for(s.empty(),g=e.length,a=-1;++a<g;)v=r,i.call(r,e[a],a)}},this.subscribe(n,c),this};this.quickEach=function(n,t){var i=s.getData(n);if(f(i))for(var u=i.length,r=-1,e=v;++r<u;)v=e,t.call(v,i[r])};this.append=function(n){var t=v;return n(),v=t,t=null,this};this.br=function(){var n=this.createElement("br");return this.$()};this.$=function(){return v=v.parentElement,this};this.element=this.$$=function(){return v};this.div=function(){var n=this.createElement("div");return this};this.i=function(){var n=this.createElement("i");return this};this.span=function(n){var r=s.getData(n),t=this.createElement("span"),i;return t.innerHTML=r,i=function(i){t.innerHTML=i;s.disposable(t,n,this);o(t)||(t=null)},this.subscribe(n,i),this};this.space=function(n){for(var r,t="",i=0;i<n;i++)t+="&nbsp;";return r=this.span().$$(),r.innerHTML=t,this.$(),this};this.input=function(n,t){var e,f,i;return n.delay(n.delay()||0),e=r(n.lazyInput)?n.lazyInput:this.config.lazyInput,f=v.nodeName.toLowerCase()==="input"?v:this.createElement("input"),f.value=this.getData(n),u(n)&&(i=function(){var i=this.value;n.isComputed&&!n.isComputed()?n(i,function(i){var r,u;if(t){t({validationResults:k.where.call(i,function(n){return n.isValid===!1}),observer:n,input:f});return}r=f.nextSibling;r=r&&r.nodeName.toLowerCase()==="span"&&r.className==="html-error"&&r||null;u=s.array.firstOrDefault.call(i,function(n){return n.isValid===!1});i.length&&u!==null?(r?r.innerHTML=u.message:s.createEleNoParent("span").text(u.message).clss("html-error"),r=r||v,r&&s(r).insertAfter(f)):r&&r.parentElement.removeChild(r)}):n.refresh(0)},tt&&!e?this.change(i).compositionend(i).compositionstart(i).cut(i).keydown(i).keyup(i).paste(i):b||e?b&&!e?this.keydown(i).keyup(i).change(i).cut(i).paste(i):this.change(i):this.change(i).compositionend(i).compositionstart(i).inputing(i),this.subscribe(n,function(t){f!==it&&(f.value=t);s.disposable(f,n,this);o(f)||(f=null)})),this};this.searchbox=function(n,t){var r=t||i.data("");return this.input(r),r.subscribe(function(t){n.filter(t)}),this};this.text=function(n){for(var t=v,r,u;t.firstChild!==null;)t.removeChild(t.firstChild);r=s.getData(n);try{t.innerHTML=r}catch(f){t.innerText=r}return u=function(i){try{t.innerHTML=i}catch(r){t.innerText=i}s.disposable(t,n,this);o(t)||(t=null)},i.subscribe(n,u),this};this.innerHTML=function(n){v.innerHTML=n};ot=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","abort","beforeunload","error","hashchange","load","resize","scroll","unload","blur","change","focus","focusin","focusout","inputing","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","afterprint","beforeprint","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","animationend","animationiteration","animationstart","transitionend","message","online","offline","popstate","show","storage","toggle","wheel","compositionend","compositionstart"];k.each.call(ot,function(t){s[t]=function(i,r){var f=t==="inputing"?"input":t,u=this.$$();return this.bind(u,f,function(t){t=t||n.event;it=u||t.srcElement||t.target;i&&i.call(it,t,r)},!1),this}});this.radio=function(n,i,r){var f,e,h;return n=n||"",r=r||"",f=t.createElement("input","radio"),f.name=n,f.value=i,e=this.getData(r),e==="true"||e===!0?(f.setAttribute("checked","checked"),f.checked=!0):(f.removeAttribute("checked"),f.checked=!1),u(r)&&(h=function(){r.isComputed()?f.removeAttribute("checked"):r.refresh()},this.change(h).click(h),this.subscribe(r,function(n){if(s.disposable(f,r,this),!o(f)){f=null;return}n==="true"||n===!0?(f.setAttribute("checked","checked"),f.checked=!0):(f.removeAttribute("checked"),f.checked=!1)})),this};this.checkbox=function(n){var t=v.nodeName.toLowerCase()==="input"&&v.type==="checkbox"?v:this.createElement("input","checkbox"),r=s.getData(n),i;return r==="true"||r===!0?(t.setAttribute("checked","checked"),t.checked=!0):(t.removeAttribute("checked"),t.checked=!1),u(n)&&(i=function(){n.isComputed()?n.refresh():n(this.checked===!0)},this.change(i).click(i),this.subscribe(n,function(i){if(s.disposable(t,n,this),!o(t)){t=null;return}t!==it&&(i==="true"||i===!0?(t.setAttribute("checked","checked"),t.checked=!0):(t.removeAttribute("checked"),t.checked=!1))})),this};this.button=function(n){var t=this.createElement("button");try{t.innerHTML=n}catch(i){t.innerText=n}return this};this.clss=this.className=function(n){return v.className=s.getData(n),this.subscribe(n,function(n){v.className=n}),this};st=s.array(["h1","h2","h3","h4","h5","h6","td","th"]);st.each(function(n){s[n]=function(t){var i=s.createElement(n);return i.innerHTML=t,s}});this.id=function(n){return v.id=n,this};this.attr=function(n){var r=v,t=i.getData(n);for(var u in t)r.setAttribute(u,t[u]),function(n){t[n].subscribe&&t[n].subscribe(function(t){r.setAttribute(n,t)})}(u);return n.subscribe&&n.subscribe(function(n){for(var t in n)r.setAttribute(t,n[t])}),this};ht=s.array(["table","thead","tbody","tr","td"]);ht.each(function(n){s[n]=function(i){return s.createElement(n),i&&v.appendChild(t.createTextNode(i)),s}});this.a=function(n,r){var u=t.createElement("a"),f;return n.isComputed?(f=i.getData(n),u.innerHTML=f.text,u.href=f.href,n.subscribe(function(n){u.innerHTML=n.text;u.href=n.href})):(u.innerHTML=n||"",u.href=r||""),v.appendChild(u),v=u,this};this.dropdown=function(n,t,r,f){var h=s.getData(t),o=v.nodeName.toLowerCase()==="select"?v:this.createElement("select");return this.each(n,function(n){var t=e(f)?n[f]:n,i=e(r)?n[r]:n;s.option(i,t,n===h).$()}),u(t)&&(this.change(function(){for(var r=n[this.selectedIndex],i=0,u=s.getData(n).length;i<u;i++)i===this.selectedIndex&&t(r)}),t.subscribe(function(t){var u=i.getData(n),r=u.indexOf(t);o.options[r].selected=!0;o.options[r].setAttribute("selected","selected")})),this};this.refresh=this.f5=function(){if(arguments.length){var t=arguments,i=v&&v.nodeName.toLowerCase(),n="";switch(i){case"button":case"a":n="click";break;case"input":n=v.type==="checkbox"||v.type==="radio"||v.type==="submit"?"click":"change";break;default:n="change"}s.bind(v,n,function(){for(var n=0,i=t.length;n<i;n++)s.data.refresh(t[n])})}return this};this.select=function(){var n=this.createElement("select");return this};this.option=function(n,t,i){var r=this.createElement("option"),u="selected",f;return r.value=s.getData(t),r.text=s.getData(n),s.getData(i)===!0&&(r.setAttribute(u,u),r.selected=!0),f=function(n){n===!0?(r.setAttribute(u,u),r.selected=!0):(r.removeAttribute(u),r.selected=!1)},s.subscribe(i,f),this};this.ul=function(){var n=this.createElement("ul");return this};this.li=function(n){var t=this.createElement("li");return this.text(n)};this.empty=function(n){for(n=n||v;n&&n.firstChild;)s.unbindAll(n.firstChild),n.removeChild(n.firstChild);return this};this.css=function(n){var i=v,t=s.getData(n);return t&&s.extend(v.style,t),s.subscribe(n,function(n){n&&s.extend(v.style,n)}),this};this.visible=function(n){var t=v,r=s.getData(n),i=function(n){t.style.display=n?"":"none"};return i(r),this.subscribe(n,i),this};this.hidden=function(n){var t=v,r=s.getData(n),i=function(n){t.style.display=n?"none":""};return i(r),this.subscribe(n,i),this};this.insertAfter=function(n){n.parentNode.insertBefore(v,n.nextSibling)};this.insertBefore=function(n){n.parentNode.insertBefore(v,n)};this.data=function(n){var y=f(n),i=y?s.array(n):n,b=null,a=y?0:null,o=[],h=[],p=y?null:[],l=y?null:[],d=null,e=null,t=function(n,r){if(n!==null&&n!==undefined){if(i!==n){if(p&&p.length){for(d=r;l.length;)l.pop();k.each.call(p,function(r){r.call(t,n,i)})}b=s.getData(i);i=y?s.array(n):n;v()}}else return s.getData(i)},g,v;return(t.changeAfter=function(){for(var n=0,t=arguments.length;n<t;n++)arguments[n].isComputed&&arguments[n].setDependency(this);return this},t.delay=function(n){return n?(a=n,this):a},t.setDependency=function(n){h.push(n)},t.isComputed=function(){return u(i)},t.subscribe=function(n){o.push(n)},t.unsubscribe=function(n){setTimeout(function(){var t=k.indexOf.call(o,n);o.splice(t,1)})},v=t.refresh=t.f5=function(){var n,t;c(a)&&a===0?(h.length&&k.each.call(h,function(n){n.refresh()}),n=e||s.getData(i),k.each.call(o,function(t){t.call(t,n,b,null,"render")})):(c(a)||!r(a))&&(t=a||0,g&&clearTimeout(g),g=setTimeout(function(){h.length&&k.each.call(h,function(n){n.refresh()});var n=e||s.getData(i);k.each.call(o,function(t){t.call(t,n,b,null,"render")})},t))},t.silentSet=function(n){return i=n,this},s.extend(t,s.data.validation),s.extend(t,s.data.extensions),t.targets=o,t.dependencies=h,!y)?(t.setValidationResult=function(n,t){if(l.push({isValid:n,message:t}),p.length===l.length)for(d&&d(l);l.length;)l.pop()},t.validate=function(n){p.push(n)},t.validators=p,t.validationResults=l,t.lazyInput=null,t):(t.add=function(n,t){t=t===undefined?i.length:t;i.splice(t,0,n);r(e)&&(e.push(n),t=e.length);var u=e||i;return k.each.call(o,function(i){i.call(i,u,n,t,"add")}),this},t.remove=function(n){var t=i.indexOf(n);return this.removeAt(t),this},t.removeAt=function(n){var t=i[n],r;if(i.splice(n,1),r=i,e){if(n=e.indexOf(t),n<0)return;e.splice(n,1);r=e}return h.length&&k.each.call(h,function(n){n.refresh()}),k.each.call(o,function(i){i.call(i,r,t,n,"remove")}),t=null,this},t.pop=function(){return this.removeAt(i.length-1),this},t.push=function(n){var t=i.length,u;i.push(n);r(e)&&(t=e.length,e.push(n));u=e||i;k.each.call(o,function(i){i.call(i,u,n,t,"push")})},t.move=function(n,t){var r=e||i,u=r[n];k.each.call(o,function(n){n.call(n,r,u,t,"move")});r.move(n,t);e&&(n=i.indexOf(r[n]),t=i.indexOf(r[t]),i.move(n,t))},t.swap=function(n,t){if(n!==t){n>t&&(n=n+t,t=n-t,n=n-t);var r=e||i;this.move(n,t);n!==t-1&&this.move(t-1,n)}},t.splice=function(n,t,i){for(var u=0;u<t;u++)this.removeAt(n);if(f(i))for(u=i.length-1;u>=0;u--)this.add(i[u],n);else r(i)&&this.add(i,n)},t.orderBy=function(){var n=arguments;return i.orderBy.apply(i,n),e&&e.orderBy.apply(e,n),v(),this},t.where=function(){var n=arguments;return(e=i.where.apply(i,n),!e||!e.length)?(e=null,this):(v(),this)},t.filter=function(n){var r,t,u;if(!n){e=null;v();return}for(r=null,e=s.array([]),t=0,u=i.length;t<u;t++)r=s.serialize(i[t]),nt(w(r)).indexOf(nt(n))>=0&&e.push(i[t]);v()},t.getFilterResult=function(){return e},t.setFilterResult=function(n){f(n)&&(e=s.array(n),v())},t)};this.data.extensions={};this.data.validation={};this.data.validation.required=function(n){return this.validate(function(t){r(t)&&a(t)!==""?this.setValidationResult(!0,n):this.setValidationResult(!1,n)}),this};this.data.validation.isNumber=function(n){return this.validate(function(t){r(t)&&c(t)?this.setValidationResult(!0,n):this.setValidationResult(!1,n)}),this};this.data.validation.isEmail=function(n){return this.validate(function(t){r(t)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.setValidationResult(!0,n):this.setValidationResult(!1,n)}),this};this.data.validation.pattern=function(n,t){return this.validate(function(i){r(i)&&n.test(i)?this.setValidationResult(!0,t):this.setValidationResult(!1,t)}),this};this.data.validation.maxLength=function(n,t){return this.validate(function(i){e(i)&&i.length>n?this.setValidationResult(!1,t):this.setValidationResult(!0,t)}),this};this.data.validation.minLength=function(n,t){return this.validate(function(i){e(i)&&i.length<n?this.setValidationResult(!1,t):this.setValidationResult(!0,t)}),this};this.data.validation.stringLength=function(n,t,i){return this.validate(function(r){e(r)&&(r.length<n||r>t)?this.setValidationResult(!1,i):this.setValidationResult(!0,i)}),this};this.data.validation.range=function(n,t,i){return this.validate(function(r){c(r)?parseFloat(r)<n?this.setValidationResult(!1,i||"The value can't be less than "+n+"."):parseFloat(r)>t?this.setValidationResult(!1,i||"The value can't be greater than "+t+"."):this.setValidationResult(!0,i):this.setValidationResult(!1,"The value must be a number.")}),this};this.data.validation.greaterThan=function(n,t){return this.validate(function(i){i<=s.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.lessThan=function(n,t){return this.validate(function(i){i>=s.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.greaterThanOrEqual=function(n,t){return this.validate(function(i){i<s.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.lessThanOrEqual=function(n,t){return this.validate(function(i){i<s.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.equal=function(n,t){return this.validate(function(i){i!==s.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.refresh=function(n){if(n.isComputed&&n.isComputed()){n.refresh();return}for(var t in n)n[t].isComputed&&n[t].isComputed()&&n[t].refresh()};this.serialize=function(n){var t,e;n=n&&n.isComputed?n():n;var u=f(n),i=u?[]:{},o=y(n)||!r(n);if(!o)return n;for(t in n)i[t]=n[t]&&n[t].isComputed&&!n[t].add?n[t]():s.serialize(n[t]);if(u)for(t=0,e=n.length;t<e;t++)i[t]=s.serialize(n[t]);return i}}.call(i),function(){this.ready=function(n){s(n);l()};var o=!1,f=!1,e=[],s=function(n){u(n)&&e.push(n)},c=function(){while(e.length)e.shift()();s=function(n){n()}},i=function(){t.addEventListener?t.removeEventListener("DOMContentLoaded",i,!1):t.detachEvent("onreadystatechange",i);r()},r=function(){if(!f){if(!t.body)return setTimeout(r,1);f=!0;c()}},l=function(){var u=!1;if(!o)if(o=!0,t.readyState!=="loading"&&r(),t.addEventListener)t.addEventListener("DOMContentLoaded",i,!1),n.addEventListener("load",i,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",i);n.attachEvent("onload",i);try{u=n.frameElement==null}catch(f){}t.documentElement.doScroll&&u&&h()}},h=function(){if(!f){try{t.documentElement.doScroll("left")}catch(n){setTimeout(h,1);return}r()}}}.call(i),function(){var e=this,n,o=/\D+/g,i="outline-color",u="rgb(00,00,07)",s=/-([a-z])/g,h=function(n,t){return t.toUpperCase()},c=function(n){var r=t.getElementById(n),i;if(r){if(r.attributes.id&&r.attributes.id.value==n)return r;for(i=1;i<t.all[n].length;i++)if(t.all[n][i].attributes.id&&t.all[n][i].attributes.id.value==n)return t.all[n][i]}return null},r=t.createElement("style"),f=t.getElementsByTagName("script")[0];f.parentNode.insertBefore(r,f);t.defaultView&&t.defaultView.getComputedStyle?n=function(n,t){return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(t)}:t.documentElement.currentStyle&&(n=function(n,t){return n.currentStyle&&n.currentStyle[t.replace(s,h)]});this.query=this.querySelectorAll=function(f,s,h){var l,v,y,p,a,w;s=s||t;h=h||[];v=h.length||0;try{r.innerHTML=f+"{"+i+":"+u+"}"}catch(l){r.styleSheet.cssText=f+"{"+i+":"+u+"}"}for(t.defaultView&&t.querySelectorAll?(l="",y=s.id,p=s,s!=t&&(l="__slim__",s.id=l,l="#"+l+" "),s=t.querySelectorAll(l+f),y&&(p.id=y),f=1):!s[0]&&(l=/(.*)#([\w-]+)([^\s>~]*)[\s>~]*(.*)/.exec(f))&&l[2]&&(s=c(l[2]),l[4]||(s=[s],l[1]||l[3]||(f=1))),s=f==1||s[0]&&s[0].nodeType==1?s:s.getElementsByTagName(f.replace(/\[[^\]]+\]|\.[\w-]+|\s*$/g,"").replace(/^.*[^\w]/,"")||"*"),a=0,w=s.length;a<w;a++)s[a].nodeType==1&&(f==1||n(s[a],i).replace(o,"")==7)&&(h[v++]=s[a]);return h.length=v,e.array(h)};this.querySelector=function(n,t,i){return this.querySelectorAll(n,t,i)[0]}}.call(i),function(){var n=this,l={},a={},r=i.array([]),o=i.array([]),s=i.array([]),v=t.head||i.querySelector("head")||i(t).createElement("head").$$(),y=function(){var t=!1;return e(o)?r.each(function(n){n.url===o&&n.isLoaded&&(t=!0)}):f(o)&&(t=!0,o.each(function(n){var i=r.firstOrDefault(function(t){return t.url===n&&t.isLoaded});i||(t=!1)})),t?(u(s[0])&&s.shift()(),n.scripts.render(s.shift())):void 0},h,c;n.config.allowDuplicate=!1;h=function(i,u){var o=r.firstOrDefault(function(n){return n.url===i}),f,e;if(o&&!n.config.allowDuplicate){u();return}return f=t.createElement("script"),f.type="text/javascript",f.charset="utf-8",f.async=!0,e=function(){f.parentElement.removeChild(f);r.push({url:i,isLoaded:!0});u()},f.onreadystatechange!==undefined?f.onload=f.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&e()}:n.bind(f,"load",e),f.src=i,v.appendChild(f),f};c=function(i){var f=r.firstOrDefault(function(n){return n.url===i}),u;if(!f||n.config.allowDuplicate)return u=t.createElement("link"),u.type="text/css",u.rel="stylesheet",u.href=i,u.async=!0,v.appendChild(u),r.push({url:i,isLoaded:!0}),u};this.scripts=function(t){n.extend(l,t)};this.styles=function(t){n.extend(a,t)};this.scripts.render=function(n){var t=l[n],r,u;if(t||(t=n),e(t))o=t,h(t,y);else if(f(t))for(o=i.array(t),r=0,u=t.length;r<u;r++)h(t[r],y);return this};this.styles.render=function(n){var t=a[n],i,r;if(t||(t=n),e(t))c(t);else if(f(t))for(i=0,r=scriptList.length;i<r;i++)c(t[i]);return this};this.scripts.then=function(n){return s.push(n),this};this.styles.then=function(t){return n.styles.render(t)};this.scripts.done=function(n){return s.push(n),this}}.call(i),function(){var u;this.config.historyEnabled=!0;var r=this,o={},f=r.config.historyEnabled&&n.history,i=n.location,c=i.origin||i.protocol+"//"+i.hostname+(i.port?":"+i.port:""),e=r.array([]),s=r.array([]),h=function(n){return new RegExp("^"+n.replace(/\//g,"\\/").replace(/\?/g,"\\?").replace(/:(\w*)/g,"(\\w*)")+"$")},l=this.router=this.navigate=function(n,t){var i=e.any(function(t){return t.originalPattern===n});if(i)throw"Duplicated pattern: "+n+". Please provide another pattern!";else e.push({originalPattern:n,pattern:h(n),fn:t});return this};this.navigate=function(t){return f&&n.history.pushState(null,null,t),u({href:t}),this};this.ignoreRoute=function(n){var t=e.firstOrDefault(function(t){return t.originalPattern===n});if(t)throw"Pattern has been registered! Please check the routing configuration.";return s.push(h(n.toLowerCase())),this};u=this.router.process=function(){var u=this.href||i.hash||i.pathname,f=s.any(function(n){return n.test(u.toLowerCase())}),n,t,h;f||(n=e.firstOrDefault(function(n){return n.pattern.test(u)}),n&&(o={},t=u.match(n.pattern),t.shift(),h=r.array(n.originalPattern.match(/:(\w*)/g)).select(function(n){return n.replace(":","")}).each(function(n,i){o[n]=t[i]}),n.fn.apply(o,t)))};r(t).click(function(n){var t=n.target||n.srcElement,r=t.getAttribute("href"),e;t.target==="_blank"||t.nodeName&&t.nodeName.toLowerCase()!=="a"||n.which>1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||i.protocol===t.protocol&&i.hostname===t.hostname&&(n.defaultPrevented||n.getPreventDefault&&n.getPreventDefault()||(e=s.any(function(n){return n.test(r.toLowerCase())}),e)||(f&&f.pushState&&f.pushState(null,null,r),u.call({href:t.getAttribute("href")})))});r(u);n.addEventListener?n.addEventListener(f?"popstate":"hashchange",u):n.attachEvent("hashchange",u)}.call(i),function(){function o(n){return n<10?"0"+n:n}var e=this,v=e.array,c;this.Promise=function(n){var f=[],e=[],i,r,o=function(n){v.each.call(f,function(t){t(n)});t=null},s=function(n){v.each.call(e,function(t){t(n)});t=null},t={};return t.done=function(n){return u(n)&&f.push(n),t},t.fail=function(n){return u(n)&&e.push(n),t},t.mockDone=function(n){return i=n,delete t.mockDone,delete t.mockFail,t},t.mockFail=function(n){return r=n,delete t.mockDone,delete t.mockFail,t},setTimeout(function(){i||r?i?o(i):s(r):n(o,s)}),t};var p=function(){var t,i,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<t.length;n++)try{i=new ActiveXObject(t[n]);break}catch(r){}return i},h=0,y=this.ajax=function(n,u,f,o){var f=f||"GET",s;return header={},parser=null,timeout=null,o=r(o)?o:!0,username=undefined,password=undefined,promise=e.Promise(function(c,l){var w,a,d;if(s){var b=n+(/\?/.test(n)?"&":"?"),g=t.getElementsByTagName("head")[0],v=t.createElement("script"),k=[],y="";h++;e.ajax["jsonpId"+h]=s;u=u||{};u.callback="html.ajax.jsonpId"+h;for(y in u)k.push(y+"="+encodeURIComponent(u[y]));b+=k.join("&");v.type="text/javascript";v.src=b;g.appendChild(v);e(v).expando("jsonpId",h);w=function(){v.parentElement.removeChild(v);var n=e(v).expando("jsonpId");i.ajax["jsonpId"+n]=undefined;v=null};v.onreadystatechange!==undefined?v.onload=v.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&w()}:e.bind(v,"load",w);return}a=p();a.open(f,n,o,username,password);a.onreadystatechange=function(){if(a.readyState==4&&a.status===200){var n;try{n=r(parser)?parser(a.responseText||a.responseXML):a.responseText||responseXML}catch(t){l("Invalid data type.")}c(n)}else l(a)};for(d in header)a.setRequestHeader(d,header);timeout&&timeout>0&&(a.timeout=timeout,a.ontimeout=function(){l("timeout")});a.send(u)}),promise.get=function(){return f="GET",this},promise.post=function(){return f="POST",this},promise.jsonp=function(n){return s=n,delete promise.jsonp,this},promise.authenticate=function(n,t){return username=n,password=t,this},promise.header=function(n){return e.extend(header,n),this},promise.async=function(n){return o=n,this},promise.parser=function(n){return parser=n,this},promise.timeout=function(n){return timeout=n,this},promise.contentType=function(n){return e.extend(header,{"Content-type":n}),this},promise},l=s&&s.parse||function(n){return n===null?n:typeof n=="string"&&(n=a(n),n&&/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))?new Function("return "+n)():null};c=s&&s.stringify||function(n){var i=typeof n,u,t,s,r;if(i!="object"||n===null)return e.isString(i)&&(n='"'+n+'"'),e.isDate(i)&&(n='"'+n.getUTCFullYear()+"-"+o(n.getUTCMonth()+1)+"-"+o(n.getUTCDate())+"T"+o(n.getUTCHours())+":"+o(n.getUTCMinutes())+":"+o(n.getUTCSeconds())+'Z"'),String(n);s=[];r=n&&f(n);for(u in n)t=n[u],i=typeof t,i=="string"?t='"'+t+'"':i=="object"&&t!==null&&(t=c(t)),s.push((r?"":'"'+u+'":')+String(t));return(r?"[":"{")+String(s)+(r?"]":"}")};s||(n.JSON=s={parse:l,stringify:c});this.getJSON=function(n,t,i){var r=[];for(var u in t)r.push(encodeURIComponent(u)+"="+encodeURIComponent(t[u]));return y(n+"?"+r.join("&"),null,"GET",i).parser(l)};this.postJSON=function(n,t,i){return y(n,c(t),"POST",i).header({"Content-type":"application/json"}).parser(l)}}.call(i),i})
